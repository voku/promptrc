import{c as p,j as e,r as c,X as z,T as R,R as S,a as I}from"./x-BvEbiLtX.js";import{P as y,A as k}from"./constants-DkOSrM93.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],q=p("arrow-down",D);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],U=p("arrow-right",O);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],A=p("check",V);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],C=p("copy",F);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],W=p("external-link",H);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M4.226 20.925A2 2 0 0 0 6 22h12a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v3.127",key:"wfxp4w"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m5 11-3 3",key:"1dgrs4"}],["path",{d:"m5 17-3-3h10",key:"1mvvaf"}]],B=p("file-output",G);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],K=p("info",X);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],J=p("layers",Q);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],Z=p("power",Y);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],te=p("quote",ee);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],$=p("search",se);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ae=p("settings",re);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],P=p("terminal",le);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],_=p("wand-sparkles",oe),M=({pattern:t,onClick:a,isCompact:r=!1,isSelected:i=!1})=>{const n=t.type===y.RITUAL;let l="",o="";n?(l="bg-purple-100 text-purple-900 border-purple-200",o="RITUAL"):(l="bg-emerald-100 text-emerald-900 border-emerald-200",o="DEV PATTERN");const d=a?"button":"div";return e.jsxs(d,{onClick:()=>a&&!i&&a(t),type:a?"button":void 0,disabled:i,className:`group relative rounded-xl transition-all duration-200 text-left w-full flex flex-col
        ${r?"p-3 sm:p-4 h-auto":"p-4 sm:p-5 h-full shadow-sm"}
        ${i?"bg-emerald-50/80 border border-emerald-500 ring-1 ring-emerald-500 cursor-default":`bg-white border border-gray-200 ${a?"cursor-pointer hover:border-emerald-500/50 hover:shadow-lg hover:shadow-emerald-900/5 hover:-translate-y-1 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2":""}`}
        `,"aria-label":a?`Select pattern: ${t.trigger}`:void 0,"aria-pressed":i,children:[i&&e.jsx("div",{className:"absolute top-2 right-2 sm:top-3 sm:right-3 bg-emerald-600 text-white rounded-full p-0.5 shadow-sm z-10 animate-in zoom-in duration-200",children:e.jsx(A,{size:12,strokeWidth:3})}),e.jsxs("div",{className:"flex justify-between items-start mb-3 w-full",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("span",{className:`${r?"text-2xl":"text-2xl sm:text-3xl"} filter drop-shadow-sm`,role:"img","aria-hidden":"true",children:t.icon}),e.jsx("span",{className:`text-[9px] sm:text-[10px] font-bold px-2 py-0.5 sm:px-2.5 sm:py-1 rounded-full uppercase tracking-wider border ${l}`,children:o})]}),e.jsx("div",{className:"flex gap-1",children:a&&!i&&e.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-all text-gray-400 group-hover:text-emerald-600 transform translate-x-[-10px] group-hover:translate-x-0 hidden sm:block","aria-hidden":"true",children:e.jsx(U,{size:20})})})]}),e.jsxs("div",{className:"flex-1 flex flex-col w-full",children:[e.jsxs("h3",{className:`font-mono font-bold text-gray-900 mb-2 leading-snug break-words ${r?"text-xs sm:text-sm":"text-sm sm:text-base"}`,children:['"',t.trigger,'"']}),!r&&e.jsxs("div",{className:"space-y-2 sm:space-y-3 mt-auto pt-3 border-t border-gray-100 text-xs md:text-sm",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(K,{size:14,className:"mt-0.5 shrink-0 text-gray-400","aria-hidden":"true"}),e.jsxs("p",{className:"text-gray-600 leading-relaxed line-clamp-2",children:[e.jsx("span",{className:"text-gray-900 font-semibold",children:"Purpose:"})," ",t.purpose]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:"shrink-0 text-gray-400 text-[10px] mt-1 font-mono","aria-hidden":"true",children:"âž”"}),e.jsxs("p",{className:"text-gray-600 leading-relaxed line-clamp-2",children:[e.jsx("span",{className:"text-gray-900 font-semibold",children:"Implication:"})," ",t.implication]})]})]})]})]})},ne=({pattern:t,onClose:a})=>{const r=c.useRef(null);if(c.useEffect(()=>{const x=m=>{m.key==="Escape"&&a()};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[a]),c.useEffect(()=>{if(t){const x=setTimeout(()=>{var m;return(m=r.current)==null?void 0:m.focus()},50);return()=>clearTimeout(x)}},[t]),!t)return null;const i=t.type===y.RITUAL;let n="",l="",o="";i?(n="bg-purple-100 text-purple-900 border border-purple-200",l="RITUAL",o="text-purple-700"):(n="bg-emerald-100 text-emerald-900 border border-emerald-200",l="DEV PATTERN",o="text-emerald-700");const d=x=>{navigator.clipboard.writeText(x)};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6 bg-gray-900/60 backdrop-blur-sm animate-in fade-in duration-200",onClick:a,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:e.jsxs("div",{className:"bg-white border border-gray-200 w-full max-w-2xl max-h-[90vh] overflow-y-auto rounded-2xl shadow-2xl animate-in zoom-in-95 duration-200 flex flex-col",onClick:x=>x.stopPropagation(),children:[e.jsxs("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur border-b border-gray-100 p-6 flex justify-between items-start",children:[e.jsxs("div",{className:"flex gap-5 items-start",children:[e.jsx("div",{className:"text-4xl bg-gray-50 w-16 h-16 rounded-2xl flex items-center justify-center border border-gray-100 shadow-inner","aria-hidden":"true",children:t.icon}),e.jsxs("div",{children:[e.jsx("div",{className:`inline-block px-2.5 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wider mb-2 ${n}`,children:l}),e.jsxs("h2",{id:"modal-title",className:"text-xl sm:text-2xl font-bold font-mono text-gray-900 leading-tight",children:['"',t.trigger,'"']})]})]}),e.jsx("button",{ref:r,onClick:a,className:"text-gray-500 hover:text-gray-900 transition-colors p-2 hover:bg-gray-100 rounded-full focus:outline-none focus:ring-2 focus:ring-emerald-500","aria-label":"Close modal",children:e.jsx(z,{size:20})})]}),e.jsxs("div",{className:"p-6 space-y-8 flex-1",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-100",children:[e.jsx("h4",{className:"text-gray-600 text-xs font-bold uppercase tracking-wider mb-2 flex items-center gap-2",children:"Why is it used?"}),e.jsx("p",{className:"text-gray-900 text-sm leading-relaxed font-medium",children:t.purpose})]}),e.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-100",children:[e.jsx("h4",{className:"text-gray-600 text-xs font-bold uppercase tracking-wider mb-2 flex items-center gap-2",children:"Hidden Lesson"}),e.jsx("p",{className:"text-gray-900 text-sm leading-relaxed font-medium",children:t.implication})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(te,{size:20,className:o,"aria-hidden":"true"}),"Usage Example"]}),e.jsx("div",{className:"space-y-4",children:t.examples.map((x,m)=>e.jsxs("div",{className:"group relative bg-white border border-gray-200 rounded-xl p-6 shadow-sm hover:shadow-md hover:border-gray-300 transition-all",children:[e.jsx("p",{className:"font-mono text-sm text-gray-800 pr-8 whitespace-pre-wrap leading-relaxed",children:x}),e.jsx("button",{onClick:()=>d(x),className:"absolute top-3 right-3 p-2 text-gray-400 hover:text-emerald-600 hover:bg-emerald-50 rounded-lg transition-all opacity-0 group-hover:opacity-100 focus:opacity-100 focus:outline-none focus:ring-2 focus:ring-emerald-500",title:"Copy example","aria-label":"Copy example to clipboard",children:e.jsx(C,{size:16})})]},m))})]})]}),e.jsx("div",{className:"border-t border-gray-100 p-6 bg-gray-50 flex justify-end",children:e.jsx("button",{onClick:a,className:"px-6 py-2.5 bg-white border border-gray-200 rounded-lg text-sm font-semibold text-gray-700 hover:text-gray-900 hover:border-gray-300 hover:shadow-sm transition-all w-full sm:w-auto focus:outline-none focus:ring-2 focus:ring-emerald-500",children:"Close"})})]})})},ie=()=>{const[t,a]=c.useState(""),[r,i]=c.useState(null),[n,l]=c.useState("ALL"),o=c.useMemo(()=>k.filter(d=>{const x=d.trigger.toLowerCase().includes(t.toLowerCase())||d.purpose.toLowerCase().includes(t.toLowerCase()),m=n==="ALL"||d.type===n;return x&&m}),[t,n]);return e.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500 pb-20",children:[e.jsxs("div",{className:"flex flex-col xl:flex-row justify-between items-start xl:items-end gap-6 mb-8 sm:mb-10",children:[e.jsxs("div",{className:"max-w-2xl w-full",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold text-gray-900 tracking-tight mb-3",children:".promptrc"}),e.jsxs("p",{className:"text-gray-600 text-base sm:text-lg leading-relaxed mb-4",children:["Steal these hints. Fork it. Adapt it. Treat it like ",e.jsx("code",{className:"bg-gray-200 px-1 py-0.5 rounded text-gray-800 text-sm font-mono whitespace-nowrap",children:".dotfiles"})," for your LLM interactions."]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-3 w-full xl:w-auto",children:[e.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap bg-white p-1.5 rounded-xl border border-gray-200 shadow-sm gap-1",children:[e.jsx("button",{onClick:()=>l("ALL"),className:`flex-1 sm:flex-none px-3 sm:px-4 py-2 rounded-lg text-xs font-bold transition-all whitespace-nowrap ${n==="ALL"?"bg-gray-100 text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-800 hover:bg-gray-50"}`,children:"ALL"}),e.jsx("button",{onClick:()=>l(y.RITUAL),className:`flex-1 sm:flex-none px-3 sm:px-4 py-2 rounded-lg text-xs font-bold transition-all whitespace-nowrap ${n===y.RITUAL?"bg-purple-50 text-purple-700 border border-purple-100 shadow-sm":"text-gray-500 hover:text-purple-600 hover:bg-purple-50"}`,children:"RITUALS"}),e.jsx("button",{onClick:()=>l(y.DEV_PATTERN),className:`flex-1 sm:flex-none px-3 sm:px-4 py-2 rounded-lg text-xs font-bold transition-all whitespace-nowrap ${n===y.DEV_PATTERN?"bg-emerald-50 text-emerald-700 border border-emerald-100 shadow-sm":"text-gray-500 hover:text-emerald-600 hover:bg-emerald-50"}`,children:"DEV"})]}),e.jsxs("div",{className:"relative group w-full md:w-64",children:[e.jsx($,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-emerald-600 transition-colors",size:18}),e.jsx("input",{type:"text",placeholder:"Search triggers...",value:t,onChange:d=>a(d.target.value),className:"w-full bg-white border border-gray-200 rounded-xl pl-10 pr-4 py-2.5 text-sm text-gray-900 shadow-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all placeholder:text-gray-400"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:[o.map(d=>e.jsx(M,{pattern:d,onClick:i},d.id)),o.length===0&&e.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center py-20 text-center border-2 border-dashed border-gray-200 rounded-2xl bg-gray-50/50",children:[e.jsx("div",{className:"text-4xl mb-4",children:"ðŸ”"}),e.jsxs("p",{className:"text-gray-500 font-medium text-lg",children:['No patterns found matching "',t,'"']}),e.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Try adjusting your filters or search terms"})]})]}),e.jsx(ne,{pattern:r,onClose:()=>i(null)})]})},de=({selectedPatterns:t,onAddPattern:a})=>{const[r,i]=c.useState(""),n=k.filter(l=>l.trigger.toLowerCase().includes(r.toLowerCase())||l.purpose.toLowerCase().includes(r.toLowerCase()));return e.jsxs("div",{className:"flex flex-col gap-3 lg:gap-4 lg:w-1/2 h-1/2 lg:h-full min-h-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 shrink-0",children:[e.jsxs("h2",{className:"text-lg sm:text-xl font-bold font-mono text-emerald-700 flex items-center gap-2",children:[e.jsx(_,{size:20})," Pattern Library"]}),e.jsx("input",{type:"text",placeholder:"Search...",className:"bg-white border border-gray-200 rounded-lg px-3 py-2 text-sm text-gray-900 focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all w-full sm:w-48 shadow-sm",value:r,onChange:l=>i(l.target.value)})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 overflow-y-auto pr-1 sm:pr-2 pb-2 content-start flex-1 min-h-0",children:n.map(l=>e.jsx(M,{pattern:l,onClick:a,isCompact:!0,isSelected:t.some(o=>o.id===l.id)},l.id))})]})},ce=({selectedPatterns:t,onRemovePattern:a,userContext:r,setUserContext:i,onGenerate:n})=>{const l=()=>{const o=[...t.map(d=>d.trigger),r].join(`

`);navigator.clipboard.writeText(o)};return e.jsxs("div",{className:"flex flex-col bg-white border border-gray-200 rounded-xl overflow-hidden shadow-xl lg:w-1/2 h-1/2 lg:h-full min-h-0",children:[e.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 border-b border-gray-200 flex justify-between items-center shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 rounded-full bg-red-400 border border-red-500/20"}),e.jsx("div",{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 rounded-full bg-yellow-400 border border-yellow-500/20"}),e.jsx("div",{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 rounded-full bg-emerald-400 border border-emerald-500/20"}),e.jsx("span",{className:"ml-2 sm:ml-3 font-mono text-xs sm:text-sm text-gray-500 font-medium",children:".promptrc"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:l,className:"p-1.5 sm:p-2 hover:bg-white hover:shadow-sm border border-transparent hover:border-gray-200 rounded text-gray-500 hover:text-emerald-600 transition-all",title:"Copy to Clipboard",children:e.jsx(C,{size:16,className:"sm:w-[18px] sm:h-[18px]"})}),e.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-3 py-1.5 sm:px-4 bg-emerald-600 hover:bg-emerald-700 text-white text-xs sm:text-sm font-bold rounded-lg shadow-sm hover:shadow transition-all",children:[e.jsx(B,{size:14,className:"sm:w-4 sm:h-4"}),e.jsx("span",{children:"Generate"})]})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6 space-y-4 font-mono text-xs sm:text-sm bg-white min-h-0",children:[t.length===0&&!r&&e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400 text-center italic border-2 border-dashed border-gray-100 rounded-lg p-4",children:[e.jsx("span",{className:"mb-2 text-2xl",children:"ðŸ—ï¸"}),"Select patterns from the library ",e.jsx("br",{})," to build your prompt configuration..."]}),t.map((o,d)=>e.jsxs("div",{className:"group relative pl-4 sm:pl-6 border-l-2 border-emerald-500 hover:border-emerald-600 transition-colors",children:[e.jsx("div",{className:"absolute left-0 top-0 -translate-x-[5px] -translate-y-[5px] opacity-100 lg:opacity-0 lg:group-hover:opacity-100 transition-opacity",children:e.jsx("button",{onClick:()=>a(d),className:"bg-white border border-gray-200 text-red-500 hover:bg-red-50 p-1 rounded-full shadow-sm","aria-label":"Remove pattern",children:e.jsx(R,{size:12})})}),e.jsx("p",{className:"text-emerald-700 font-bold mb-1",children:o.trigger}),e.jsxs("p",{className:"text-gray-400 text-[10px] sm:text-xs italic",children:["// ",o.purpose]}),d<t.length-1&&e.jsx("div",{className:"my-2 flex justify-center opacity-20 text-gray-400",children:e.jsx(q,{size:12})})]},`${o.id}-${d}`)),e.jsxs("div",{className:"mt-4 sm:mt-6 pt-4 sm:pt-6 border-t border-gray-100",children:[e.jsx("label",{className:"block text-gray-400 text-[10px] sm:text-xs uppercase tracking-wider mb-2 font-bold",children:"Task Context / Payload"}),e.jsx("textarea",{value:r,onChange:o=>i(o.target.value),placeholder:"Paste your specific code, error message, or task description here...",className:"w-full bg-gray-50 text-gray-900 border border-gray-200 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 resize-none h-[100px] sm:h-[120px] placeholder:text-gray-400 transition-all text-xs sm:text-sm font-sans"})]})]})]})},xe=({selectedPatterns:t,onRemovePattern:a,onAddPattern:r,userContext:i,setUserContext:n,onGenerate:l})=>e.jsxs("div",{className:"flex flex-col lg:flex-row h-full gap-4 lg:gap-6",children:[e.jsx(de,{selectedPatterns:t,onAddPattern:r}),e.jsx(ce,{selectedPatterns:t,onRemovePattern:a,userContext:i,setUserContext:n,onGenerate:l})]}),me=({output:t,onClose:a})=>{const[r,i]=S.useState(!1),n=()=>{navigator.clipboard.writeText(t),i(!0),setTimeout(()=>i(!1),2e3)};return e.jsxs("div",{className:"h-full flex flex-col bg-white border border-gray-200 rounded-xl overflow-hidden shadow-xl",children:[e.jsxs("div",{className:"bg-gray-50 p-4 border-b border-gray-200 flex justify-between items-center shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-2 text-emerald-700",children:[e.jsx(P,{size:18}),e.jsx("span",{className:"font-mono text-sm font-bold",children:"Final Prompt Output"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-white border border-gray-200 shadow-sm hover:border-gray-300 hover:shadow text-gray-600 hover:text-emerald-700 text-xs font-bold uppercase tracking-wider transition-all","aria-label":"Copy to clipboard",children:[r?e.jsx(A,{size:14,className:"text-emerald-600"}):e.jsx(C,{size:14}),r?"Copied":"Copy"]}),a&&e.jsx("button",{onClick:a,className:"p-1.5 ml-1 text-gray-400 hover:text-gray-900 hover:bg-gray-200/50 rounded-lg transition-colors","aria-label":"Close terminal",children:e.jsx(z,{size:20})})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 font-mono text-sm bg-white",children:t?e.jsx("pre",{className:"whitespace-pre-wrap font-mono text-sm leading-relaxed text-gray-800 bg-gray-50 p-5 rounded-lg border border-gray-200 shadow-inner",children:t}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400 italic text-center space-y-2",children:[e.jsx(P,{size:48,className:"opacity-20"}),e.jsxs("p",{children:["No prompt generated yet.",e.jsx("br",{}),"Go to Builder to assemble your prompt."]})]})})]})},he=()=>{const[t,a]=c.useState("library"),[r,i]=c.useState([]),[n,l]=c.useState(""),[o,d]=c.useState(""),[x,m]=c.useState(!1),j=u=>{r.find(f=>f.id===u.id)||i([...r,u])},L=u=>{const f=[...r];f.splice(u,1),i(f)},v=()=>{const u=r.map(w=>`${w.trigger}
// ${w.purpose}`),f=n?`

CONTEXT:
${n}`:"",T=`${u.join(`

`)}${f}`;d(T),m(!0)};return e.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50 text-gray-900 font-sans",children:[e.jsx("nav",{className:"border-b border-gray-200 bg-white/80 backdrop-blur-md sticky top-0 z-40 supports-[backdrop-filter]:bg-white/60",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between h-16 items-center",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-emerald-600 rounded-lg flex items-center justify-center text-white font-bold font-mono shadow-md shadow-emerald-600/20",children:"P"}),e.jsx("span",{className:"font-mono text-lg font-bold tracking-tight text-gray-900 hidden sm:block",children:".promptrc"})]}),e.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-xl",children:[e.jsxs("button",{onClick:()=>a("library"),className:`flex items-center gap-2 px-4 py-1.5 rounded-lg text-sm font-bold transition-all ${t==="library"?"bg-white text-emerald-700 shadow-sm":"text-gray-500 hover:text-gray-900"}`,children:[e.jsx(J,{size:16}),e.jsx("span",{children:"Reference"})]}),e.jsxs("button",{onClick:()=>a("workbench"),className:`flex items-center gap-2 px-4 py-1.5 rounded-lg text-sm font-bold transition-all ${t==="workbench"?"bg-white text-emerald-700 shadow-sm":"text-gray-500 hover:text-gray-900"}`,children:[e.jsx(_,{size:16}),e.jsx("span",{children:"Workbench"})]})]})]})})}),e.jsxs("main",{className:"flex-1 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 w-full",children:[e.jsx("div",{className:t==="library"?"block":"hidden",children:e.jsx(ie,{})}),e.jsx("div",{className:t==="workbench"?"block h-[calc(100vh-8rem)]":"hidden",children:e.jsx(xe,{selectedPatterns:r,onAddPattern:j,onRemovePattern:L,userContext:n,setUserContext:l,onGenerate:v})})]}),e.jsxs("footer",{className:"border-t border-gray-200 bg-white py-8 text-center text-gray-500 text-sm mt-auto",children:[e.jsx("p",{className:"font-mono",children:"Prompt Engineer Toolkit // 2025"}),e.jsx("p",{className:"mt-2",children:e.jsx("a",{href:"https://github.com/voku/promptrc",target:"_blank",rel:"noopener noreferrer",className:"text-emerald-600 hover:text-emerald-700 underline",children:"Contribute on GitHub"})})]}),x&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-gray-900/60 backdrop-blur-sm animate-in fade-in duration-200",onClick:()=>m(!1),children:e.jsx("div",{className:"w-full max-w-3xl h-[600px] relative animate-in zoom-in-95 duration-200 shadow-2xl rounded-xl overflow-hidden",onClick:u=>u.stopPropagation(),children:e.jsx(me,{output:o,onClose:()=>m(!1)})})})]})},pe=()=>{const[t,a]=c.useState(""),[r,i]=c.useState("ALL"),[n,l]=c.useState(null),[o,d]=c.useState(""),[x,m]=c.useState(!1),[j,L]=c.useState(k);c.useEffect(()=>{const s=()=>{chrome.storage.sync.get(["customPatterns"],h=>{const b=h.customPatterns||[];L([...k,...b])})};s();const g=(h,b)=>{b==="sync"&&h.customPatterns&&s()};return chrome.storage.onChanged.addListener(g),()=>{chrome.storage.onChanged.removeListener(g)}},[]),c.useEffect(()=>{chrome.tabs.query({active:!0,currentWindow:!0},s=>{var g;if((g=s[0])!=null&&g.url){const h=new URL(s[0].url);d(h.hostname),chrome.storage.sync.get(["disabledSites"],b=>{const N=b.disabledSites||[];m(N.includes(h.hostname))})}})},[]);const v=c.useMemo(()=>j.filter(s=>{const g=s.trigger.toLowerCase().includes(t.toLowerCase())||s.purpose.toLowerCase().includes(t.toLowerCase())||s.id.toLowerCase().includes(t.toLowerCase()),h=r==="ALL"||s.type===r;return g&&h}).slice(0,10),[t,r,j]),u=s=>{navigator.clipboard.writeText(s.trigger),l(s.id),setTimeout(()=>l(null),2e3)},f=async s=>{const[g]=await chrome.tabs.query({active:!0,currentWindow:!0});g.id&&(chrome.tabs.sendMessage(g.id,{action:"insertPrompt",pattern:s}),window.close())},T=()=>{chrome.runtime.openOptionsPage()},w=async()=>{const s=!x;chrome.storage.sync.get(["disabledSites"],g=>{let h=g.disabledSites||[];s?h.includes(o)||h.push(o):h=h.filter(b=>b!==o),chrome.storage.sync.set({disabledSites:h},()=>{m(s),chrome.tabs.query({active:!0,currentWindow:!0},b=>{var N;(N=b[0])!=null&&N.id&&chrome.tabs.sendMessage(b[0].id,{action:"toggleSite",disabled:s})})})})};return e.jsxs("div",{className:"flex flex-col h-full bg-white",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 bg-gradient-to-r from-emerald-50 to-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-emerald-600 rounded-md flex items-center justify-center text-white font-bold text-xs",children:"P"}),e.jsx("span",{className:"font-mono text-sm font-bold text-gray-900",children:".promptrc"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:w,className:`p-1.5 rounded-md transition-colors ${x?"text-red-600 bg-red-50 hover:bg-red-100":"text-emerald-600 bg-emerald-50 hover:bg-emerald-100"}`,title:x?"Enable on this site":"Disable on this site",children:e.jsx(Z,{size:16})}),e.jsx("button",{onClick:T,className:"p-1.5 text-gray-600 hover:text-emerald-600 hover:bg-emerald-50 rounded-md transition-colors",title:"Open settings",children:e.jsx(ae,{size:16})})]})]}),x&&e.jsxs("div",{className:"mb-3 p-2 bg-amber-50 border border-amber-200 rounded-md text-xs text-amber-800",children:["âš ï¸ Extension disabled on ",o]}),e.jsxs("div",{className:"relative",children:[e.jsx($,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:14}),e.jsx("input",{type:"text",value:t,onChange:s=>a(s.target.value),placeholder:"Search patterns... (or type / in any field)",className:"w-full pl-9 pr-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent"})]}),e.jsx("div",{className:"flex gap-1 mt-2",children:["ALL",y.RITUAL,y.DEV_PATTERN].map(s=>e.jsx("button",{onClick:()=>i(s),className:`px-2 py-1 rounded text-xs font-semibold transition-colors ${r===s?"bg-emerald-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:s==="ALL"?"All":s.replace("_"," ")},s))})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:v.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500 text-sm",children:[e.jsx("p",{children:"No patterns found."}),e.jsx("p",{className:"mt-1",children:"Try a different search term."})]}):e.jsx("div",{className:"space-y-1",children:v.map(s=>e.jsx("div",{className:"p-2 rounded-lg hover:bg-gray-50 border border-gray-200 hover:border-emerald-300 transition-all cursor-pointer group",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-lg flex-shrink-0 mt-0.5",children:s.icon||"ðŸ“"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-900 truncate",children:s.id.replace(/^(ritual|pat)-/,"")}),e.jsx("span",{className:"px-1.5 py-0.5 bg-blue-100 text-blue-800 text-[10px] font-medium rounded flex-shrink-0",children:s.type.replace("_"," ")})]}),e.jsx("p",{className:"text-[11px] text-gray-600 leading-tight mb-2 line-clamp-2",children:s.trigger}),e.jsxs("div",{className:"flex gap-1",children:[e.jsxs("button",{onClick:()=>u(s),className:"flex items-center gap-1 px-2 py-1 text-[10px] font-medium text-emerald-700 bg-emerald-50 rounded hover:bg-emerald-100 transition-colors",title:"Copy to clipboard",children:[e.jsx(C,{size:10}),n===s.id?"Copied!":"Copy"]}),e.jsxs("button",{onClick:()=>f(s),className:"flex items-center gap-1 px-2 py-1 text-[10px] font-medium text-blue-700 bg-blue-50 rounded hover:bg-blue-100 transition-colors",title:"Insert into current page",children:[e.jsx(W,{size:10}),"Insert"]})]})]})]})},s.id))})}),e.jsx("div",{className:"px-4 py-2 border-t border-gray-200 bg-gray-50",children:e.jsxs("p",{className:"text-[10px] text-gray-600 text-center",children:["ðŸ’¡ Type ",e.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"/"})," in any text field to search â€¢",e.jsx("code",{className:"bg-gray-200 px-1 rounded mx-1",children:"Ctrl+Shift+I"})," to quick insert"]})})]})},E=document.getElementById("root");if(!E)throw new Error("Could not find root element to mount to");const ge=window.innerWidth<800,ue=I.createRoot(E);ue.render(e.jsx(S.StrictMode,{children:ge?e.jsx(pe,{}):e.jsx(he,{})}));
